"""
This file is auto-generated by the CCVShop API code generator.

⚠️ Do not edit manually – changes will be overwritten.
Endpoints:
{%- for op in operations %}
- {{ op.method | upper }} {{ op.path }} → {{ op.description }}
{%- endfor %}
"""

from typing import Any, List, Dict
from ..result import CCVShopResult
from typing import TYPE_CHECKING
if TYPE_CHECKING:
    from ..client import CCVClient

class {{ name | capitalize }}:
    def __init__(self, client: 'CCVClient'):
        """
        {{ description }}
        """
        self.client: 'CCVClient' = client

{%- for op in operations %}
{%- if op.method | lower != "options" %}

    def {{ op.description | lower | replace(" ", "_") | replace('.', '') }}(
        self,
{%- if ':id' in op.path %}
        id: str,
{%- endif %}
{%- if op.schema is defined and op.schema.title | lower == "collection" and op.method | lower == "get" %}
        per_page: int = 100,
        total_pages: int = 1,
        **params,
{%- endif %}
{%- if op.method | lower in ["post", "patch"] %}
        body: Dict,
{%- endif %}
    ) -> CCVShopResult:
        """
        {{ op.description }}
        """

{%- if op.schema is defined and op.schema.title | lower == "collection" and op.method | lower == "get" %}
        return self.client._get_paged(
            uri_path={% if ':id' in op.path -%}
                f"/api/rest{{ op.path | lower | replace(':id', '{id}') | replace(':version', 'v1') }}"
            {%- else -%}
                "/api/rest{{ op.path | lower | replace(':version', 'v1') }}"
            {%- endif %},
            per_page=per_page,
            total_pages=total_pages,
            **params,
        )
{%- else %}
        return self.client._{{ op.method | lower }}(
            uri_path={% if ':id' in op.path -%}
                f"/api/rest{{ op.path | lower | replace(':id', '{id}') | replace(':version', 'v1') }}"
            {%- else -%}
                "/api/rest{{ op.path | lower | replace(':version', 'v1') }}"
            {%- endif %},
{%- if op.method | lower in ["post", "patch"] %}
            body=body,
{%- endif %}
        )
{%- endif %}

{%- endif %}
{%- endfor %}
